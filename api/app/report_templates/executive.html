<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ report_title }} - Generated {{ generation_date }}</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        h1 { color: #3b82f6; border-bottom: 2px solid #3b82f6; padding-bottom: 10px; }
        .section { margin-top: 30px; border: 1px solid #ccc; padding: 15px; border-radius: 5px; }
        .risk-item { margin-bottom: 5px; font-weight: bold; }
        .risk-critical { color: red; }
    </style>
</head>
<body>
    <h1>{{ report_title }}</h1>
    <p>Generation Date: {{ generation_date }}</p>

    <div class="section">
        <h2>Risk Status Summary</h2>
        {% for risk in data.risks_by_rating %}
            <p class="risk-item {% if risk.rating == 'Critical' %}risk-critical{% endif %}">
                {{ risk.rating }}: {{ risk.count }} findings
            </p>
        {% endfor %}
    </div>

    <div class="section">
        <h2>Control Maturity Footprint</h2>
        {% for control in data.control_maturity %}
            <p>{{ control.control_name }}: {{ control.finding_count }} findings linked.</p>
        {% endfor %}
    </div>

    <p style="margin-top: 30px; font-size: small;">Report generated by Project GRC-MMAP.</p>
</body>
</html>